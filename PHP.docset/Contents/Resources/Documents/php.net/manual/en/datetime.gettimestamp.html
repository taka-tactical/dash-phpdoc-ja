<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; CHARSET=shift-jis">
  <title>Unix タイムスタンプを取得する</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="datetime.getoffset.html">DateTime::getOffset</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="datetime.gettimezone.html">DateTime::getTimezone</a></div>
 <div class="up"><a href="class.datetimeinterface.html">DateTimeInterface</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="datetime.gettimestamp" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">DateTime::getTimestamp</h1>
  <h1 class="refname">DateTimeImmutable::getTimestamp</h1>
  <h1 class="refname">DateTimeInterface::getTimestamp</h1>
  <h1 class="refname">date_timestamp_get</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7)</p><p class="refpurpose"><span class="refname">DateTime::getTimestamp</span> -- <span class="refname">DateTimeImmutable::getTimestamp</span> -- <span class="refname">DateTimeInterface::getTimestamp</span> -- <span class="refname">date_timestamp_get</span> &mdash; <span class="dc-title">Unix タイムスタンプを取得する</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-datetime.gettimestamp-description">
  <h3 class="title">説明</h3>
  <p class="para">オブジェクト指向型</p>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><strong>DateTime::getTimestamp</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><strong>DateTimeImmutable::getTimestamp</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><strong>DateTimeInterface::getTimestamp</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para rdfs-comment">手続き型</p>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><a href="function.date-timestamp-get.html" class="methodname">date_timestamp_get</a></span>
    ( <span class="methodparam"><span class="type"><a href="class.datetime.html" class="type DateTime">DateTime</a></span> <code class="parameter">$object</code></span>
   )</div>

  <p class="para rdfs-comment">
   Unix タイムスタンプを取得します。
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-datetime.gettimestamp-parameters">
  <h3 class="title">パラメータ</h3>
  <p class="para">この関数にはパラメータはありません。</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-datetime.gettimestamp-returnvalues">
  <h3 class="title">返り値</h3>
  <p class="para">
   その日付をあらわす Unix タイムスタンプを返します。
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-datetime.gettimestamp-examples">
  <h3 class="title">例</h3>
  <div class="example" id="example-2546">
   <p><strong>例1 <span class="function"><strong>DateTime::getTimestamp()</strong></span> の例</strong></p>
   <div class="example-contents"><p>オブジェクト指向型</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTimestamp</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>手続き型</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">date_create</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">date_timestamp_get</span><span style="color: #007700">(</span><span style="color: #0000BB">$date</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>上の例の出力は、
たとえば以下のようになります。</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
1272509157
</pre></div>
   </div>
  </div>
 </div>


 <div class="refsect1 notes" id="refsect1-datetime.gettimestamp-notes">
  <h3 class="title">注意</h3>
  <p class="para">
   PHP 5.2 では、
   <span class="function"><a href="datetime.format.html" class="function">DateTime::format()</a></span> のパラメータに
   <em>U</em> を使えば同じことができます。
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-datetime.gettimestamp-seealso">
  <h3 class="title">参考</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="datetime.settimestamp.html" class="function" rel="rdfs-seeAlso">DateTime::setTimestamp()</a> - Unix タイムスタンプを用いて日付と時刻を設定する</span></li>
   <li class="member"><span class="function"><a href="datetime.format.html" class="function" rel="rdfs-seeAlso">DateTime::format()</a> - 指定した書式でフォーマットした日付を返す</span></li>
  </ul>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="119444""></a>
  <div class="note">
   <strong class="user">mindplay.dk</strong>
   <a href="#119444" class="date">08-Jun-2016 04:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Miguel's comment is wrong - getTimeStamp() always returns a timestamp, this has nothing to do with timezones at all, as you can see below.<br />
<br />
What's really happening in Miguel's example, is he is parsing the input dates in different timezones.<br />
<br />
There is no such thing as "a timestamp relative to the timezone".<br />
<br />
<span class="default">&lt;?php<br />
<br />
$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'2016-03-11 11:00:00'</span><span class="keyword">, new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Rome'</span><span class="keyword">));<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">getTimestamp</span><span class="keyword">()); </span><span class="comment">// 1457690400<br />
<br />
</span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">setTimeZone</span><span class="keyword">(new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'America/New_York'</span><span class="keyword">));<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">getTimestamp</span><span class="keyword">()); </span><span class="comment">// 1457690400</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="119152""></a>
  <div class="note">
   <strong class="user">miguelmuscat93 at gmail dot com</strong>
   <a href="#119152" class="date">12-Apr-2016 02:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that getTimestamp() does not return the UTC timestamp. It returns the timestamp relative to the set timezone, or the default server timezone. This also applies to dates in timezones with Daylight Savings.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// 11th March 2016 @ 11:00 UTC has timestamp: 1457694000<br />
</span><span class="default">$d1 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'2016-03-11 11:00:00'</span><span class="keyword">, new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Rome'</span><span class="keyword">));<br />
</span><span class="default">$t1 </span><span class="keyword">= </span><span class="default">$d1</span><span class="keyword">-&gt;</span><span class="default">getTimestamp</span><span class="keyword">();<br />
<br />
</span><span class="comment">// 11th April 2016 @ 11:00 UTC has timestamp: 1460372400<br />
</span><span class="default">$d2 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'2016-04-11 11:00:00'</span><span class="keyword">, new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Rome'</span><span class="keyword">));<br />
</span><span class="default">$t2 </span><span class="keyword">= </span><span class="default">$d2</span><span class="keyword">-&gt;</span><span class="default">getTimestamp</span><span class="keyword">();<br />
<br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"11 March: %d (diff = %d less)\n"</span><span class="keyword">, </span><span class="default">$t1</span><span class="keyword">, </span><span class="default">1457694000 </span><span class="keyword">- </span><span class="default">$t1</span><span class="keyword">);<br />
</span><span class="default">printf</span><span class="keyword">(</span><span class="string">"11 April: %d (diff = %d less)"</span><span class="keyword">, </span><span class="default">$t2</span><span class="keyword">, </span><span class="default">1460372400 </span><span class="keyword">- </span><span class="default">$t2</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Prints:<br />
// 1457690400 (diff = 3600)<br />
// 1460365200 (diff = 7200)</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="114590""></a>
  <div class="note">
   <strong class="user">heiccih at gmail dot com</strong>
   <a href="#114590" class="date">10-Mar-2014 05:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In 32-bit system the unix timestamp will overflow if the date goes beyond year 2038 and this method will return false. In 64-bit systems this function will still work as intended. For more information please see <a href="http://en.wikipedia.org/wiki/Year_2038_problem." rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Year_2038_problem.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98374""></a>
  <div class="note">
   <strong class="user">Justin Heesemann</strong>
   <a href="#98374" class="date">11-Jun-2010 11:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that for dates before the unix epoch getTimestamp() will return false, whereas format("U") will return a negative number.<br />
<br />
<span class="default">&lt;?php<br />
$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"1899-12-31"</span><span class="keyword">);<br />
</span><span class="comment">// "-2209078800"<br />
</span><span class="keyword">echo </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"U"</span><span class="keyword">);<br />
</span><span class="comment">// false<br />
</span><span class="keyword">echo </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">getTimestamp</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="datetime.getoffset.html">DateTime::getOffset</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="datetime.gettimezone.html">DateTime::getTimezone</a></div>
 <div class="up"><a href="class.datetimeinterface.html">DateTimeInterface</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
